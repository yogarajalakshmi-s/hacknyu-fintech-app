{"version":3,"names":["_EventManager","_interopRequireDefault","require","_interfaces","_PointerType","e","__esModule","default","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","WheelEventManager","EventManager","constructor","args","x","y","_event","wheelDelta","event","deltaX","deltaY","adaptedEvent","mapEvent","onWheel","registerListeners","view","addEventListener","resetDelta","wheelCallback","unregisterListeners","removeEventListener","clientX","clientY","offsetX","offsetY","pointerId","eventType","EventTypes","MOVE","pointerType","PointerType","OTHER","time","timeStamp","wheelDeltaY","resetManager","exports"],"sources":["WheelEventManager.ts"],"sourcesContent":["import EventManager from './EventManager';\nimport { AdaptedEvent, EventTypes } from '../interfaces';\nimport { PointerType } from '../../PointerType';\n\nexport default class WheelEventManager extends EventManager<HTMLElement> {\n  private wheelDelta = { x: 0, y: 0 };\n\n  private resetDelta = (_event: PointerEvent) => {\n    this.wheelDelta = { x: 0, y: 0 };\n  };\n\n  private wheelCallback = (event: WheelEvent) => {\n    this.wheelDelta.x += event.deltaX;\n    this.wheelDelta.y += event.deltaY;\n\n    const adaptedEvent = this.mapEvent(event);\n    this.onWheel(adaptedEvent);\n  };\n\n  public registerListeners(): void {\n    this.view.addEventListener('pointermove', this.resetDelta);\n    this.view.addEventListener('wheel', this.wheelCallback);\n  }\n\n  public unregisterListeners(): void {\n    this.view.removeEventListener('pointermove', this.resetDelta);\n    this.view.removeEventListener('wheel', this.wheelCallback);\n  }\n\n  protected mapEvent(event: WheelEvent): AdaptedEvent {\n    return {\n      x: event.clientX + this.wheelDelta.x,\n      y: event.clientY + this.wheelDelta.y,\n      offsetX: event.offsetX - event.deltaX,\n      offsetY: event.offsetY - event.deltaY,\n      pointerId: -1,\n      eventType: EventTypes.MOVE,\n      pointerType: PointerType.OTHER,\n      time: event.timeStamp,\n      // @ts-ignore It does exist, but it's deprecated\n      wheelDeltaY: event.wheelDeltaY,\n    };\n  }\n\n  public resetManager(): void {\n    super.resetManager();\n  }\n}\n"],"mappings":"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","ignoreList":[]}