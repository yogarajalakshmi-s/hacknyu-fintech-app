{"version":3,"names":["MountRegistry","addMountListener","listener","mountListeners","add","delete","addUnmountListener","unmountListeners","gestureHandlerWillMount","handler","forEach","gestureHandlerWillUnmount","gestureWillMount","gesture","gestureWillUnmount","exports","_defineProperty","Set"],"sources":["mountRegistry.ts"],"sourcesContent":["import { GestureType } from './handlers/gestures/gesture';\n\ninterface ReactComponentWithHandlerTag extends React.Component {\n  handlerTag: number;\n}\n\nexport type GestureMountListener = (\n  gesture: GestureType | ReactComponentWithHandlerTag\n) => void;\n\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class MountRegistry {\n  private static mountListeners = new Set<GestureMountListener>();\n  private static unmountListeners = new Set<GestureMountListener>();\n\n  static addMountListener(listener: GestureMountListener): () => void {\n    this.mountListeners.add(listener);\n\n    return () => {\n      this.mountListeners.delete(listener);\n    };\n  }\n\n  static addUnmountListener(listener: GestureMountListener): () => void {\n    this.unmountListeners.add(listener);\n\n    return () => {\n      this.unmountListeners.delete(listener);\n    };\n  }\n\n  static gestureHandlerWillMount(handler: React.Component) {\n    this.mountListeners.forEach((listener) =>\n      listener(handler as ReactComponentWithHandlerTag)\n    );\n  }\n\n  static gestureHandlerWillUnmount(handler: React.Component) {\n    this.unmountListeners.forEach((listener) =>\n      listener(handler as ReactComponentWithHandlerTag)\n    );\n  }\n\n  static gestureWillMount(gesture: GestureType) {\n    this.mountListeners.forEach((listener) => listener(gesture));\n  }\n\n  static gestureWillUnmount(gesture: GestureType) {\n    this.unmountListeners.forEach((listener) => listener(gesture));\n  }\n}\n"],"mappings":";;;;;;;;;AAUA;AACO,MAAMA,aAAa,CAAC;EAIzB,OAAOC,gBAAgBA,CAACC,QAA8B,EAAc;IAClE,IAAI,CAACC,cAAc,CAACC,GAAG,CAACF,QAAQ,CAAC;IAEjC,OAAO,MAAM;MACX,IAAI,CAACC,cAAc,CAACE,MAAM,CAACH,QAAQ,CAAC;IACtC,CAAC;EACH;EAEA,OAAOI,kBAAkBA,CAACJ,QAA8B,EAAc;IACpE,IAAI,CAACK,gBAAgB,CAACH,GAAG,CAACF,QAAQ,CAAC;IAEnC,OAAO,MAAM;MACX,IAAI,CAACK,gBAAgB,CAACF,MAAM,CAACH,QAAQ,CAAC;IACxC,CAAC;EACH;EAEA,OAAOM,uBAAuBA,CAACC,OAAwB,EAAE;IACvD,IAAI,CAACN,cAAc,CAACO,OAAO,CAAER,QAAQ,IACnCA,QAAQ,CAACO,OAAuC,CAClD,CAAC;EACH;EAEA,OAAOE,yBAAyBA,CAACF,OAAwB,EAAE;IACzD,IAAI,CAACF,gBAAgB,CAACG,OAAO,CAAER,QAAQ,IACrCA,QAAQ,CAACO,OAAuC,CAClD,CAAC;EACH;EAEA,OAAOG,gBAAgBA,CAACC,OAAoB,EAAE;IAC5C,IAAI,CAACV,cAAc,CAACO,OAAO,CAAER,QAAQ,IAAKA,QAAQ,CAACW,OAAO,CAAC,CAAC;EAC9D;EAEA,OAAOC,kBAAkBA,CAACD,OAAoB,EAAE;IAC9C,IAAI,CAACN,gBAAgB,CAACG,OAAO,CAAER,QAAQ,IAAKA,QAAQ,CAACW,OAAO,CAAC,CAAC;EAChE;AACF;AAACE,OAAA,CAAAf,aAAA,GAAAA,aAAA;AAAAgB,eAAA,CAvCYhB,aAAa,oBACQ,IAAIiB,GAAG,CAAuB,CAAC;AAAAD,eAAA,CADpDhB,aAAa,sBAEU,IAAIiB,GAAG,CAAuB,CAAC","ignoreList":[]}