{"version":3,"names":["_react","_interopRequireWildcard","require","React","_GenericTouchable","_reactNative","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_defineProperty","_toPropertyKey","value","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","TouchableHighlight","Component","constructor","props","_this$props$onShowUnd","_this$props","hasPressHandler","setState","extraChildStyle","opacity","activeOpacity","extraUnderlayStyle","backgroundColor","underlayColor","onShowUnderlay","onPress","onPressIn","onPressOut","onLongPress","_this$props$onHideUnd","_this$props2","onHideUnderlay","_from","to","TOUCHABLE_STATE","BEGAN","showUnderlay","UNDETERMINED","MOVED_OUTSIDE","hideUnderlay","state","renderChildren","children","createElement","View","child","Children","only","cloneElement","style","StyleSheet","compose","render","rest","onStateChange","exports","GenericTouchable","defaultProps","delayPressOut"],"sources":["TouchableHighlight.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Component } from 'react';\nimport GenericTouchable, { TOUCHABLE_STATE } from './GenericTouchable';\nimport type { GenericTouchableProps } from './GenericTouchableProps';\nimport {\n  StyleSheet,\n  View,\n  TouchableHighlightProps as RNTouchableHighlightProps,\n  ColorValue,\n  ViewProps,\n} from 'react-native';\n\ninterface State {\n  extraChildStyle: null | {\n    opacity?: number;\n  };\n  extraUnderlayStyle: null | {\n    backgroundColor?: ColorValue;\n  };\n}\n\n/**\n * @deprecated TouchableHighlight will be removed in the future version of Gesture Handler.\n */\nexport type TouchableHighlightProps = RNTouchableHighlightProps &\n  GenericTouchableProps;\n\n/**\n * @deprecated TouchableHighlight will be removed in the future version of Gesture Handler.\n *\n * TouchableHighlight follows RN's implementation\n */\nexport default class TouchableHighlight extends Component<\n  TouchableHighlightProps,\n  State\n> {\n  static defaultProps = {\n    ...GenericTouchable.defaultProps,\n    activeOpacity: 0.85,\n    delayPressOut: 100,\n    underlayColor: 'black',\n  };\n\n  constructor(props: TouchableHighlightProps) {\n    super(props);\n    this.state = {\n      extraChildStyle: null,\n      extraUnderlayStyle: null,\n    };\n  }\n\n  // Copied from RN\n  showUnderlay = () => {\n    if (!this.hasPressHandler()) {\n      return;\n    }\n    this.setState({\n      extraChildStyle: {\n        opacity: this.props.activeOpacity,\n      },\n      extraUnderlayStyle: {\n        backgroundColor: this.props.underlayColor,\n      },\n    });\n    this.props.onShowUnderlay?.();\n  };\n\n  hasPressHandler = () =>\n    this.props.onPress ||\n    this.props.onPressIn ||\n    this.props.onPressOut ||\n    this.props.onLongPress;\n\n  hideUnderlay = () => {\n    this.setState({\n      extraChildStyle: null,\n      extraUnderlayStyle: null,\n    });\n    this.props.onHideUnderlay?.();\n  };\n\n  renderChildren() {\n    if (!this.props.children) {\n      return <View />;\n    }\n\n    const child = React.Children.only(\n      this.props.children\n    ) as React.ReactElement<ViewProps>; // TODO: not sure if OK but fixes error\n    return React.cloneElement(child, {\n      style: StyleSheet.compose(child.props.style, this.state.extraChildStyle),\n    });\n  }\n\n  onStateChange = (_from: number, to: number) => {\n    if (to === TOUCHABLE_STATE.BEGAN) {\n      this.showUnderlay();\n    } else if (\n      to === TOUCHABLE_STATE.UNDETERMINED ||\n      to === TOUCHABLE_STATE.MOVED_OUTSIDE\n    ) {\n      this.hideUnderlay();\n    }\n  };\n\n  render() {\n    const { style = {}, ...rest } = this.props;\n    const { extraUnderlayStyle } = this.state;\n    return (\n      <GenericTouchable\n        {...rest}\n        style={[style, extraUnderlayStyle]}\n        onStateChange={this.onStateChange}>\n        {this.renderChildren()}\n      </GenericTouchable>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}