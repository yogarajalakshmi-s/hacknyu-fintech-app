{"version":3,"names":["_reactNative","require","_GenericTouchable","_interopRequireWildcard","_react","React","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_defineProperty","_toPropertyKey","value","enumerable","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","TouchableOpacity","Component","constructor","args","childStyle","StyleSheet","flatten","props","style","opacity","valueOf","Animated","Value","getChildStyleOpacityWithDefault","duration","_this$props$useNative","timing","toValue","easing","Easing","inOut","quad","useNativeDriver","useNativeAnimations","start","_from","to","TOUCHABLE_STATE","BEGAN","setOpacityTo","activeOpacity","UNDETERMINED","MOVED_OUTSIDE","render","rest","createElement","onStateChange","children","View","exports","GenericTouchable","defaultProps"],"sources":["TouchableOpacity.tsx"],"sourcesContent":["import {\n  Animated,\n  Easing,\n  StyleSheet,\n  View,\n  TouchableOpacityProps as RNTouchableOpacityProps,\n} from 'react-native';\nimport GenericTouchable, { TOUCHABLE_STATE } from './GenericTouchable';\nimport type { GenericTouchableProps } from './GenericTouchableProps';\nimport * as React from 'react';\nimport { Component } from 'react';\n\n/**\n * @deprecated TouchableOpacity will be removed in the future version of Gesture Handler.\n */\nexport type TouchableOpacityProps = RNTouchableOpacityProps &\n  GenericTouchableProps & {\n    useNativeAnimations?: boolean;\n  };\n\n/**\n * @deprecated TouchableOpacity will be removed in the future version of Gesture Handler.\n *\n * TouchableOpacity bases on timing animation which has been used in RN's core\n */\nexport default class TouchableOpacity extends Component<TouchableOpacityProps> {\n  static defaultProps = {\n    ...GenericTouchable.defaultProps,\n    activeOpacity: 0.2,\n  };\n\n  // Opacity is 1 one by default but could be overwritten\n  getChildStyleOpacityWithDefault = () => {\n    const childStyle = StyleSheet.flatten(this.props.style) || {};\n    return childStyle.opacity == null\n      ? 1\n      : (childStyle.opacity.valueOf() as number);\n  };\n\n  opacity = new Animated.Value(this.getChildStyleOpacityWithDefault());\n\n  setOpacityTo = (value: number, duration: number) => {\n    Animated.timing(this.opacity, {\n      toValue: value,\n      duration: duration,\n      easing: Easing.inOut(Easing.quad),\n      useNativeDriver: this.props.useNativeAnimations ?? true,\n    }).start();\n  };\n\n  onStateChange = (_from: number, to: number) => {\n    if (to === TOUCHABLE_STATE.BEGAN) {\n      this.setOpacityTo(this.props.activeOpacity!, 0);\n    } else if (\n      to === TOUCHABLE_STATE.UNDETERMINED ||\n      to === TOUCHABLE_STATE.MOVED_OUTSIDE\n    ) {\n      this.setOpacityTo(this.getChildStyleOpacityWithDefault(), 150);\n    }\n  };\n\n  render() {\n    const { style = {}, ...rest } = this.props;\n    return (\n      <GenericTouchable\n        {...rest}\n        style={[\n          style,\n          {\n            opacity: this.opacity as unknown as number, // TODO: fix this\n          },\n        ]}\n        onStateChange={this.onStateChange}>\n        {this.props.children ? this.props.children : <View />}\n      </GenericTouchable>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}